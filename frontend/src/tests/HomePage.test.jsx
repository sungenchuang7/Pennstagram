import React from 'react';
import {
  act, render, waitFor, screen,
} from '@testing-library/react';
import { MemoryRouter } from 'react-router-dom';
import axios from 'axios';
import HomePage from '../pages/HomePage';
import '@testing-library/jest-dom/extend-expect';

jest.mock('axios'); // Mocking axios for handling HTTP requests

window.matchMedia = window.matchMedia || function () {
  return {
    matches: false,
    addListener() {},
    removeListener() {},
  };
};

test('general test for HomePage', async () => {

  localStorage.setItem('userID', 'emily@upenn.edu');

  const userObject = {
    data: [{
      userID: 'emily@upenn.edu',
      userName: 'Emily',
      password: '123',
      avatar: 'data:image/jpeg;base64,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',
    }],
  };

  axios.get.mockResolvedValueOnce(userObject);

  const postObject = {
    data: [{
      avatar: 'data:image/jpeg;base64,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',
      userName: 'Emily',
      userID: 'emily@upenn.edu',
      url: 'https://www.youtube.com/embed/Pl7VRRIs5Uo?si=wt44vXvKgquy1eZM',
      text: 'My first post',
      time: '2023-10-17',
      id: 1,
    },
    {
      avatar: 'data:image/jpeg;base64,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',
      userName: 'Emily',
      userID: 'emily@upenn.edu',
      url: 'https://www.youtube.com/embed/Pl7VRRIs5Uo?si=wt44vXvKgquy1eZM',
      text: 'My first post',
      time: '2023-10-16',
      id: 2,
    }],
  };
  axios.get.mockResolvedValueOnce(postObject);

  const logIn = true;
  await act(async () => {
    render(
      <MemoryRouter>
        <HomePage setLogIn={jest.fn()} logIn={logIn} setUser={jest.fn()} user="emily@upenn.edu" />
      </MemoryRouter>,
    );
  });

  await waitFor(() => {
    expect(screen.getByText('Post')).toBeInTheDocument();
  });
  localStorage.clear();
});

// test('user not log in', async () => {
//   const userObject = {
//     data: [{
//       userID: 'emily@upenn.edu',
//       userName: 'Emily',
//       password: '123',
//     }],
//   };
//
//   axios.get.mockResolvedValueOnce(userObject);
//
//   const postObject = {
//     data: [{
//       userName: 'Emily',
//       userID: 'emily@upenn.edu',
//       url: 'https://www.youtube.com/embed/Pl7VRRIs5Uo?si=wt44vXvKgquy1eZM',
//       text: 'My first post',
//       time: '2023-10-17',
//       id: 1,
//     },
//     {
//       userName: 'Emily',
//       userID: 'emily@upenn.edu',
//       url: 'https://www.youtube.com/embed/Pl7VRRIs5Uo?si=wt44vXvKgquy1eZM',
//       text: 'My first post',
//       time: '2023-10-16',
//       id: 2,
//     }],
//   };
//   axios.get.mockResolvedValueOnce(postObject);
//
//   await act(async () => {
//     localStorage.clear();
//     render(
//       <MemoryRouter>
//         <HomePage />
//       </MemoryRouter>,
//     );
//   });
//
//   await waitFor(() => {
//     expect(screen.getByText('Log in first')).toBeInTheDocument();
//   });
// });
